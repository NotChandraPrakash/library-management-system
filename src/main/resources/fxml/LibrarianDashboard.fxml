<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="controllers.LibrarianDashboardController" 
            prefHeight="750.0" prefWidth="1100.0">
    
    <!-- Top Header -->
    <top>
        <VBox style="-fx-background-color: transparent;">
            <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: linear-gradient(to right, #667eea 0%, #764ba2 100%); -fx-padding: 20;">
                <!-- Title -->
                <VBox spacing="5.0">
                    <Label text="CENTRAL LIBRARY MANAGEMENT SYSTEM" style="-fx-text-fill: white; -fx-font-size: 18; -fx-font-weight: bold;"/>
                    <Label text="Librarian Management Panel" style="-fx-text-fill: #e0e0e0; -fx-font-size: 12;"/>
                </VBox>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <!-- Librarian Info -->
                <VBox alignment="CENTER_RIGHT" spacing="5.0">
                    <Label fx:id="lblLibrarianName" style="-fx-text-fill: white; -fx-font-size: 13; -fx-font-weight: bold;"/>
                    <Label text="Logged in as Librarian" style="-fx-text-fill: #e0e0e0; -fx-font-size: 11;"/>
                </VBox>
                
                <!-- Logout Button -->
                <Button fx:id="btnLogout" text="ðŸšª Logout" onAction="#handleLogout" 
                        style="-fx-background-color: #ff6b6b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;"/>
            </HBox>
        </VBox>
    </top>
    
    <!-- Center Content -->
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE" style="-fx-padding: 10;">
            
            <!-- Tab 1: View Books -->
            <Tab text="ðŸ“š View Books">
                <VBox spacing="10.0" style="-fx-padding: 15;">
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Button text="ðŸ”„ Refresh" onAction="#handleRefreshBooks" 
                                style="-fx-background-color: #667eea; -fx-text-fill: white;"/>
                    </HBox>
                    <TableView fx:id="tblBooks" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colBookId" text="Book ID" prefWidth="100.0"/>
                            <TableColumn fx:id="colTitle" text="Title" prefWidth="250.0"/>
                            <TableColumn fx:id="colPublisher" text="Publisher" prefWidth="200.0"/>
                            <TableColumn fx:id="colEdition" text="Edition" prefWidth="100.0"/>
                            <TableColumn fx:id="colCopies" text="Copies" prefWidth="100.0"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>
            
            <!-- Tab 2: Add Book -->
            <Tab text="âž• Add Book">
                <VBox spacing="15.0" style="-fx-padding: 20;" alignment="TOP_CENTER">
                    <Label text="Add New Book to Library" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    
                    <GridPane hgap="15.0" vgap="15.0" maxWidth="500">
                        <Label text="Book ID:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="txtAddBookId" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        
                        <Label text="Title:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="txtAddTitle" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        
                        <Label text="Publisher:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="txtAddPublisher" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        
                        <Label text="Edition:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="txtAddEdition" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                        
                        <Label text="Copies:" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextField fx:id="txtAddCopies" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                        
                        <columnConstraints>
                            <ColumnConstraints minWidth="100" prefWidth="120"/>
                            <ColumnConstraints minWidth="200" prefWidth="300"/>
                        </columnConstraints>
                    </GridPane>
                    
                    <Button text="Add Book" onAction="#handleAddBook" 
                            style="-fx-background-color: #51cf66; -fx-text-fill: white; -fx-font-size: 14; -fx-padding: 10 30;"/>
                    
                    <Label fx:id="lblAddBookStatus" wrapText="true" style="-fx-font-size: 12;"/>
                </VBox>
            </Tab>
            
            <!-- Tab 3: Remove Book -->
            <Tab text="âž– Remove Book">
                <VBox spacing="15.0" style="-fx-padding: 20;" alignment="TOP_CENTER">
                    <Label text="Remove Book from Library" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    
                    <HBox spacing="15.0" alignment="CENTER">
                        <Label text="Book ID:"/>
                        <TextField fx:id="txtRemoveBookId" prefWidth="200"/>
                        <Button text="Remove Book" onAction="#handleRemoveBook" 
                                style="-fx-background-color: #ff6b6b; -fx-text-fill: white;"/>
                    </HBox>
                    
                    <Label fx:id="lblRemoveBookStatus" wrapText="true" style="-fx-font-size: 12;"/>
                </VBox>
            </Tab>
            
            <!-- Tab 4: View Issued Books -->
            <Tab text="ðŸ“– Issued Books">
                <VBox spacing="10.0" style="-fx-padding: 15;">
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Button text="ðŸ”„ Refresh" onAction="#handleRefreshIssuedBooks" 
                                style="-fx-background-color: #667eea; -fx-text-fill: white;"/>
                    </HBox>
                    <TextArea fx:id="txtIssuedBooks" editable="false" VBox.vgrow="ALWAYS" 
                             style="-fx-font-family: 'Courier New'; -fx-font-size: 12;"/>
                </VBox>
            </Tab>
            
            <!-- Tab 5: Add Student -->
            <Tab text="ðŸ‘¨â€ðŸŽ“ Add Student">
                <VBox spacing="15.0" style="-fx-padding: 20;" alignment="TOP_CENTER">
                    <Label text="Add New Student" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    
                    <GridPane hgap="15.0" vgap="15.0" maxWidth="500">
                        <Label text="Student ID:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="txtAddStudentId" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        
                        <Label text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="txtAddStudentName" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        
                        <Label text="Department:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="txtAddStudentDept" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        
                        <Label text="Course:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="txtAddStudentCourse" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                        
                        <columnConstraints>
                            <ColumnConstraints minWidth="100" prefWidth="120"/>
                            <ColumnConstraints minWidth="200" prefWidth="300"/>
                        </columnConstraints>
                    </GridPane>
                    
                    <Button text="Add Student" onAction="#handleAddStudent" 
                            style="-fx-background-color: #51cf66; -fx-text-fill: white; -fx-font-size: 14; -fx-padding: 10 30;"/>
                    
                    <Label fx:id="lblAddStudentStatus" wrapText="true" style="-fx-font-size: 12;"/>
                </VBox>
            </Tab>
            
            <!-- Tab 6: Change Password -->
            <Tab text="ðŸ”‘ Change Password">
                <VBox spacing="15.0" style="-fx-padding: 20;" alignment="TOP_CENTER">
                    <Label text="Change Your Password" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    
                    <VBox spacing="10.0" maxWidth="400">
                        <Label text="New Password:"/>
                        <PasswordField fx:id="txtNewPassword" promptText="Enter new password"/>
                        
                        <Label text="Confirm Password:"/>
                        <PasswordField fx:id="txtConfirmPassword" promptText="Confirm new password"/>
                    </VBox>
                    
                    <Button text="Change Password" onAction="#handleChangePassword" 
                            style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-font-size: 14; -fx-padding: 10 30;"/>
                    
                    <Label fx:id="lblChangePasswordStatus" wrapText="true" style="-fx-font-size: 12;"/>
                </VBox>
            </Tab>
            
        </TabPane>
    </center>
    
</BorderPane>
